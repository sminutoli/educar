package com.educar.identikit {	import flash.display.Sprite;	import com.educar.game.GameButton;	import flash.events.MouseEvent;	import com.greensock.TweenLite;	import com.greensock.easing.Back;	import flash.display.MovieClip;	import flash.events.Event;	import com.educar.game.GameEvent;		public class RulesPanel extends MovieClip {				//from FLA		public var btnNext:GameButton;		public var txt:Sprite;				private var txtAnim:TweenLite;		private var btnAnim:TweenLite;			public function RulesPanel(onlyClues:Boolean=false) {			stop();			btnNext.addEventListener(MouseEvent.CLICK, nextSlide );						btnAnim = TweenLite.from( btnNext, 1, { alpha: 0, x: '+20', ease: Back.easeOut, delay: 0.5 } );			if( onlyClues ) this.gotoAndStop( this.totalFrames - 1 );			updateFrame();		}				private function nextSlide(e:MouseEvent):void {			if( this.currentFrame == this.totalFrames ){				closePanel();				return;			}			this.nextFrame();			updateFrame();		}				private function updateFrame(){			txtAnim = TweenLite.from( txt, 1, { alpha: 0, y: '-20', ease: Back.easeOut } );		}				private function closePanel(){			btnNext.mouseChildren = btnNext.mouseEnabled = false;			TweenLite.to( btnNext, 1, { alpha: 0, x: '+20', ease: Back.easeOut, delay: 0.5 } );			TweenLite.to( txt, 1, { alpha: 0, y: '-20', ease: Back.easeOut } );			TweenLite.delayedCall(2, closePanelEnd );		}				private function closePanelEnd(){			this.dispatchEvent( new GameEvent( GameEvent.GAME_START ) );			this.parent.removeChild( this );		}	}	}