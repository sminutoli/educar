package com.educar.club {		import flash.display.Sprite;	import com.educar.game.GameButton;	import flash.events.MouseEvent;	import com.greensock.TweenLite;	import com.greensock.easing.Back;	import flash.display.MovieClip;	import flash.events.Event;	import com.educar.game.GameEvent;	import com.greensock.TimelineLite;	import com.greensock.plugins.TweenPlugin;	import flash.geom.Point;	import com.greensock.easing.Linear;	import com.greensock.easing.Quad;			public class WinPanel extends Sprite {				//from FLA		public var btnReplay:GameButton;		public var mcMisc1:Sprite;		public var mcMisc2:Sprite;		public var mcMisc3:Sprite;						//private		private var elementsAnimation:TimelineLite;		public function WinPanel() {			this.addEventListener( Event.ADDED_TO_STAGE, init, false, 0, true );		}				private function init(e:Event):void {			trace('WinPanel', btnReplay, mcMisc1, mcMisc2, mcMisc3);			btnReplay.addEventListener(MouseEvent.CLICK, closePanel );						btnReplay.mouseEnabled = false;						var miscPos:Point = new Point( mcMisc2.x, mcMisc2.y );			mcMisc2.x = 30;			this.elementsAnimation = new TimelineLite({onComplete: enableInterface });			this.elementsAnimation							.from( mcMisc2, 1, { alpha: 0, y: -100, ease: Back.easeInOut } )							.to( mcMisc2, 1.5, { x: miscPos.x, ease: Quad.easeOut } )							.from( mcMisc1, 1, { alpha: 0, y: '+20', ease: Back.easeOut }, '1.3' )							.from( mcMisc3, 1, { alpha: 0, y: '+20', ease: Back.easeOut }, '1.5' )							.from( btnReplay, 1, { alpha: 0, y: '-10',  ease: Back.easeInOut }, '-=0.8' );		}				private function enableInterface():void {			btnReplay.mouseEnabled = true;		}		private function closePanel(e:Event=null){			btnReplay.mouseEnabled = false;			this.elementsAnimation = new TimelineLite({onComplete: enableInterface });			this.elementsAnimation							.to( mcMisc2, 1, { alpha: 0, x: stage.stageWidth + 50, ease: Back.easeIn } )							.to( mcMisc1, 1, { alpha: 0, y: '+20', ease: Back.easeIn }, '0.5' )							.to( mcMisc3, 1, { alpha: 0, y: '+20', ease: Back.easeIn }, '0.5' )							.to( btnReplay, 1, { alpha: 0, y: '-10',  ease: Back.easeInOut }, '-=0.8' );		}				private function closePanelEnd(){			trace("WinPanel closePanelEnd");			this.parent.removeChild( this );			this.dispatchEvent( new GameEvent( GameEvent.GAME_REPLAY ) );		}	}		}